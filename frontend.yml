- name: Setup Frontend
  hosts: all
  become: yes
  tasks:
    - name: Installing Nginx Server
      ansible.builtin.yum:
        name: nginx
        state: latest

 - name: Remove directory
   ansible.builtin.file:
    path: /usr/share/nginx/html
    state: absent

 - name: create directory
   ansible.builtin.file:
    path: /usr/share/nginx/html
    state: directory

    - name: Unarchive a file that needs to be downloaded (added in 2.0)
      ansible.builtin.unarchive:
       src: https://roboshop-artifacts.s3.amazonaws.com/frontend.zip
       dest: /usr/share/nginx/html
       remote_src: yes
       
    - name: Copy file with owner and permissions
      ansible.builtin.copy:
      src: roboshop.conf
      dest: /etc/nginx/default.d/roboshop.conf

      - name: Start service httpd, if not started
         ansible.builtin.service:
           state: started
            name: nginx



